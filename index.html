<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR 2026 Ultimate</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=IBM+Plex+Mono:wght@300;400;500&display=swap');
        
        :root {
            --electric: #00ffcc;
            --deep: #0a0e27;
            --surface: #151b3d;
            --glow: #00ffcc33;
            --text: #e0e7ff;
            --dim: #7982a9;
            --accent: #ff006e;
        }
        
        body.high-contrast {
            --electric: #ffff00;
            --deep: #000000;
            --surface: #1a1a1a;
            --text: #ffffff;
            --dim: #cccccc;
        }
        
        body.print-mode {
            background: white !important;
            color: black !important;
        }
        
        body.print-mode .card {
            border: 2px solid #000 !important;
            box-shadow: none !important;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'IBM Plex Mono', monospace;
            background: var(--deep);
            color: var(--text);
            min-height: 100vh;
            padding: 1%;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, var(--glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, #3366ff22 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        h1 {
            font-family: 'Orbitron', monospace;
            font-size: 1.4rem;
            font-weight: 900;
            color: var(--electric);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            text-shadow: 0 0 20px var(--glow);
            animation: titlePulse 3s ease-in-out infinite;
        }
        
        @keyframes titlePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.85; }
        }
        
        .settings-btn {
            background: var(--surface);
            border: 1px solid var(--electric);
            color: var(--electric);
            padding: 0.5rem 1rem;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.75rem;
            font-family: 'IBM Plex Mono', monospace;
        }
        
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            overflow-x: auto;
        }
        
        .tab {
            background: var(--surface);
            border: 1px solid var(--dim);
            color: var(--dim);
            padding: 0.75rem 1rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            cursor: pointer;
            border-radius: 2px;
            transition: all 0.2s;
            white-space: nowrap;
            font-weight: 500;
            letter-spacing: 0.05em;
        }
        
        .tab.active {
            background: var(--electric);
            color: var(--deep);
            border-color: var(--electric);
            box-shadow: 0 0 20px var(--glow);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .card {
            background: var(--surface);
            border: 1px solid var(--electric);
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 24px var(--glow);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 8px 32px var(--glow);
            transform: translateY(-2px);
        }
        
        label {
            display: block;
            font-size: 0.75rem;
            color: var(--electric);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="url"],
        input[type="email"],
        input[type="file"],
        input[type="date"],
        input[type="time"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 0.75rem;
            background: var(--deep);
            border: 1px solid var(--dim);
            color: var(--text);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.875rem;
            border-radius: 2px;
            transition: all 0.2s;
            margin-bottom: 1rem;
        }
        
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--electric);
            box-shadow: 0 0 0 2px var(--glow);
        }
        
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .color-input {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        input[type="color"] {
            width: 40px;
            height: 40px;
            border: 2px solid var(--electric);
            border-radius: 2px;
            background: transparent;
            cursor: pointer;
        }
        
        .gradient-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .btn {
            width: 100%;
            padding: 1rem;
            background: var(--electric);
            color: var(--deep);
            border: none;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            border-radius: 2px;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.4s, height 0.4s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-secondary {
            background: transparent;
            border: 1px solid var(--electric);
            color: var(--electric);
        }
        
        .btn-accent {
            background: var(--accent);
            border: 1px solid var(--accent);
        }
        
        .btn-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .btn-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        #qrPreview {
            background: white;
            padding: 1.5rem;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            margin: 1rem 0;
            box-shadow: 0 0 40px var(--glow);
            position: relative;
        }
        
        .qr-wrapper {
            position: relative;
            display: inline-block;
        }
        
        .qr-frame {
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            pointer-events: none;
        }
        
        .branding-overlay {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255,255,255,0.9);
            padding: 0.25rem 0.5rem;
            border-radius: 2px;
            font-size: 0.6rem;
            color: #000;
        }
        
        #qrcode {
            animation: qrAppear 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        @keyframes qrAppear {
            from {
                opacity: 0;
                transform: scale(0.8) rotate(-5deg);
            }
            to {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }
        
        .style-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .style-option {
            padding: 0.75rem;
            background: var(--deep);
            border: 2px solid var(--dim);
            border-radius: 2px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.7rem;
        }
        
        .style-option.active {
            border-color: var(--electric);
            background: var(--surface);
            color: var(--electric);
        }
        
        .frame-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .frame-option {
            padding: 0.5rem;
            background: var(--deep);
            border: 2px solid var(--dim);
            border-radius: 2px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.7rem;
        }
        
        .frame-option.active {
            border-color: var(--electric);
            background: var(--surface);
            color: var(--electric);
        }
        
        .presets {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .preset {
            padding: 0.75rem;
            border: 2px solid var(--dim);
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .preset:hover {
            border-color: var(--electric);
        }
        
        .preset-colors {
            display: flex;
            gap: 4px;
            margin-bottom: 0.5rem;
            justify-content: center;
        }
        
        .preset-color {
            width: 20px;
            height: 20px;
            border-radius: 2px;
        }
        
        .preset-name {
            font-size: 0.65rem;
            color: var(--dim);
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .analytics-card {
            background: var(--deep);
            padding: 1rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
        }
        
        .analytics-value {
            font-size: 1.5rem;
            color: var(--electric);
            font-family: 'Orbitron', monospace;
            font-weight: 900;
        }
        
        .analytics-label {
            font-size: 0.65rem;
            color: var(--dim);
            margin-top: 0.25rem;
        }
        
        .analytics-chart {
            height: 150px;
            background: var(--deep);
            border-radius: 2px;
            margin-top: 1rem;
            display: flex;
            align-items: flex-end;
            gap: 4px;
            padding: 1rem;
        }
        
        .chart-bar {
            flex: 1;
            background: var(--electric);
            opacity: 0.7;
            transition: all 0.2s;
            border-radius: 2px 2px 0 0;
        }
        
        .chart-bar:hover {
            opacity: 1;
        }
        
        .team-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .team-member {
            background: var(--deep);
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .team-info {
            flex: 1;
        }
        
        .team-name {
            font-size: 0.875rem;
            color: var(--text);
            font-weight: 500;
        }
        
        .team-email {
            font-size: 0.7rem;
            color: var(--dim);
            margin-top: 0.25rem;
        }
        
        .team-role {
            background: var(--electric);
            color: var(--deep);
            padding: 0.25rem 0.5rem;
            border-radius: 2px;
            font-size: 0.65rem;
            font-weight: 500;
        }
        
        .dynamic-qr-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .dynamic-item {
            background: var(--deep);
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
        }
        
        .dynamic-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .dynamic-title {
            font-size: 0.875rem;
            color: var(--electric);
            font-weight: 500;
        }
        
        .dynamic-stats {
            font-size: 0.7rem;
            color: var(--dim);
        }
        
        .dynamic-content {
            font-size: 0.75rem;
            color: var(--text);
            margin-bottom: 0.5rem;
            word-break: break-all;
        }
        
        .dynamic-actions {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 0.5rem;
        }
        
        .batch-input {
            background: var(--deep);
            padding: 1rem;
            border: 1px solid var(--dim);
            border-radius: 2px;
            margin-bottom: 1rem;
        }
        
        .batch-item {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            align-items: center;
        }
        
        .batch-item input {
            margin-bottom: 0;
        }
        
        .remove-btn {
            background: var(--accent);
            border: none;
            color: white;
            padding: 0.5rem;
            cursor: pointer;
            border-radius: 2px;
            font-size: 0.75rem;
        }
        
        .batch-preview {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .batch-qr {
            background: white;
            padding: 1rem;
            border-radius: 2px;
            text-align: center;
        }
        
        .batch-qr-label {
            font-size: 0.65rem;
            color: var(--dim);
            margin-top: 0.5rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .scanner-container {
            position: relative;
            background: black;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        
        #scanner-video {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .scanner-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border: 3px solid var(--electric);
            box-shadow: 0 0 0 9999px rgba(0,0,0,0.5);
            pointer-events: none;
        }
        
        .scanner-corner {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 3px solid var(--electric);
        }
        
        .scanner-corner.tl { top: -3px; left: -3px; border-right: none; border-bottom: none; }
        .scanner-corner.tr { top: -3px; right: -3px; border-left: none; border-bottom: none; }
        .scanner-corner.bl { bottom: -3px; left: -3px; border-right: none; border-top: none; }
        .scanner-corner.br { bottom: -3px; right: -3px; border-left: none; border-top: none; }
        
        .scan-result {
            background: var(--surface);
            padding: 1rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
            margin-bottom: 1rem;
        }
        
        .scan-result-label {
            font-size: 0.7rem;
            color: var(--electric);
            margin-bottom: 0.5rem;
        }
        
        .scan-result-text {
            font-size: 0.875rem;
            word-break: break-all;
        }
        
        .examples {
            background: var(--deep);
            border: 1px solid var(--dim);
            padding: 1rem;
            border-radius: 2px;
            margin-top: 1rem;
        }
        
        .example-item {
            padding: 0.6rem;
            background: var(--surface);
            border-left: 2px solid var(--electric);
            margin-bottom: 0.5rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .example-item:hover {
            background: var(--deep);
            padding-left: 1rem;
        }
        
        .example-label {
            color: var(--electric);
            font-weight: 500;
        }
        
        .example-text {
            color: var(--dim);
            font-size: 0.7rem;
            margin-top: 0.25rem;
        }
        
        .history {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .history-item {
            background: var(--deep);
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .history-item:hover {
            background: var(--surface);
            padding-left: 1.25rem;
        }
        
        .history-text {
            font-size: 0.75rem;
            color: var(--text);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex: 1;
        }
        
        .history-btn {
            background: transparent;
            border: 1px solid var(--electric);
            color: var(--electric);
            padding: 0.25rem 0.5rem;
            font-size: 0.65rem;
            cursor: pointer;
            border-radius: 2px;
            margin-left: 0.5rem;
            transition: all 0.2s;
        }
        
        .history-btn:hover {
            background: var(--electric);
            color: var(--deep);
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 0.75rem;
            margin-top: 1rem;
        }
        
        .stat {
            text-align: center;
            padding: 0.75rem;
            background: var(--deep);
            border-radius: 2px;
        }
        
        .stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: var(--electric);
            font-weight: 900;
        }
        
        .stat-label {
            font-size: 0.65rem;
            color: var(--dim);
            text-transform: uppercase;
            margin-top: 0.25rem;
        }
        
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--deep);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--electric);
            border-radius: 3px;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--electric);
            color: var(--deep);
            padding: 1rem 1.5rem;
            border-radius: 2px;
            font-weight: 500;
            font-size: 0.875rem;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: var(--surface);
            border: 1px solid var(--electric);
            border-radius: 4px;
            padding: 2rem;
            max-width: 400px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-title {
            font-family: 'Orbitron', monospace;
            color: var(--electric);
            margin-bottom: 1rem;
            font-size: 1rem;
        }
        
        .close-modal {
            float: right;
            background: none;
            border: none;
            color: var(--electric);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
        }
        
        .share-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-top: 1rem;
        }
        
        .share-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: var(--deep);
            border: 1px solid var(--dim);
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .share-btn:hover {
            border-color: var(--electric);
            background: var(--surface);
        }
        
        .share-icon {
            font-size: 1.5rem;
        }
        
        .share-label {
            font-size: 0.7rem;
            color: var(--dim);
        }
        
        .api-endpoint {
            background: var(--deep);
            padding: 1rem;
            border-radius: 2px;
            border: 1px solid var(--dim);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.75rem;
            margin-bottom: 1rem;
            word-break: break-all;
        }
        
        .api-key {
            background: var(--deep);
            padding: 0.75rem;
            border-radius: 2px;
            border-left: 3px solid var(--electric);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .api-key-value {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.75rem;
            color: var(--text);
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .copy-btn {
            background: transparent;
            border: 1px solid var(--electric);
            color: var(--electric);
            padding: 0.25rem 0.5rem;
            font-size: 0.65rem;
            cursor: pointer;
            border-radius: 2px;
            margin-left: 0.5rem;
        }
        
        .sync-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: var(--deep);
            border-radius: 2px;
            margin-bottom: 1rem;
        }
        
        .sync-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--electric);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .sync-text {
            font-size: 0.75rem;
            color: var(--dim);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>QR 2026 Ultimate</h1>
            <button class="settings-btn" onclick="openSettings()">âš™ Settings</button>
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('generate')">Generate</div>
            <div class="tab" onclick="switchTab('dynamic')">Dynamic</div>
            <div class="tab" onclick="switchTab('batch')">Batch</div>
            <div class="tab" onclick="switchTab('scan')">Scan</div>
            <div class="tab" onclick="switchTab('analytics')">Analytics</div>
            <div class="tab" onclick="switchTab('team')">Team</div>
            <div class="tab" onclick="switchTab('templates')">Templates</div>
            <div class="tab" onclick="switchTab('api')">API</div>
        </div>
        
        <!-- GENERATE TAB -->
        <div id="generate-tab" class="tab-content active">
            <div class="card">
                <label for="qrInput">Input Text or URL (<span id="langLabel">English</span>)</label>
                <div class="row">
                    <select id="inputLang" onchange="updateLangLabel()">
                        <option value="en">English</option>
                        <option value="es">EspaÃ±ol</option>
                        <option value="fr">FranÃ§ais</option>
                        <option value="de">Deutsch</option>
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="ja">æ—¥æœ¬èªž</option>
                        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                    </select>
                </div>
                <textarea id="qrInput" placeholder="Enter text or URL to generate QR code"></textarea>
                
                <label for="altText">Alt Text (Accessibility)</label>
                <input type="text" id="altText" placeholder="Describe QR code content for screen readers">
                
                <div class="row">
                    <div>
                        <label for="qrSize">Size</label>
                        <select id="qrSize">
                            <option value="128">Small (128px)</option>
                            <option value="256" selected>Medium (256px)</option>
                            <option value="512">Large (512px)</option>
                            <option value="1024">Print (1024px)</option>
                        </select>
                    </div>
                    <div>
                        <label for="errorLevel">Error Correction</label>
                        <select id="errorLevel">
                            <option value="L">Low (7%)</option>
                            <option value="M" selected>Medium (15%)</option>
                            <option value="Q">Quartile (25%)</option>
                            <option value="H">High (30%)</option>
                        </select>
                    </div>
                </div>
                
                <label>QR Code Style</label>
                <div class="style-options">
                    <div class="style-option active" data-style="square" onclick="selectStyle('square')">Square</div>
                    <div class="style-option" data-style="rounded" onclick="selectStyle('rounded')">Rounded</div>
                    <div class="style-option" data-style="dots" onclick="selectStyle('dots')">Dots</div>
                </div>
                
                <label>Frame Style</label>
                <div class="frame-options">
                    <div class="frame-option active" data-frame="none" onclick="selectFrame('none')">No Frame</div>
                    <div class="frame-option" data-frame="classic" onclick="selectFrame('classic')">Classic</div>
                    <div class="frame-option" data-frame="rounded" onclick="selectFrame('rounded')">Rounded</div>
                    <div class="frame-option" data-frame="modern" onclick="selectFrame('modern')">Modern</div>
                </div>
                
                <label>Color Presets</label>
                <div class="presets">
                    <div class="preset" onclick="applyPreset('#000000', '#ffffff')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #000"></div>
                            <div class="preset-color" style="background: #fff"></div>
                        </div>
                        <div class="preset-name">Classic</div>
                    </div>
                    <div class="preset" onclick="applyPreset('#0a0e27', '#00ffcc')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #0a0e27"></div>
                            <div class="preset-color" style="background: #00ffcc"></div>
                        </div>
                        <div class="preset-name">Cyber</div>
                    </div>
                    <div class="preset" onclick="applyPreset('#ff006e', '#fff4f4')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #ff006e"></div>
                            <div class="preset-color" style="background: #fff4f4"></div>
                        </div>
                        <div class="preset-name">Rose</div>
                    </div>
                    <div class="preset" onclick="applyPreset('#6366f1', '#f0f0ff')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #6366f1"></div>
                            <div class="preset-color" style="background: #f0f0ff"></div>
                        </div>
                        <div class="preset-name">Indigo</div>
                    </div>
                    <div class="preset" onclick="applyPreset('#059669', '#f0fdf4')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #059669"></div>
                            <div class="preset-color" style="background: #f0fdf4"></div>
                        </div>
                        <div class="preset-name">Emerald</div>
                    </div>
                    <div class="preset" onclick="applyPreset('#dc2626', '#fef2f2')">
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #dc2626"></div>
                            <div class="preset-color" style="background: #fef2f2"></div>
                        </div>
                        <div class="preset-name">Ruby</div>
                    </div>
                </div>
                
                <div class="gradient-toggle">
                    <input type="checkbox" id="useGradient" onchange="toggleGradient()">
                    <label for="useGradient" style="margin: 0;">Use Gradient Colors</label>
                </div>
                
                <div id="solidColors">
                    <div class="row">
                        <div>
                            <label>Foreground Color</label>
                            <div class="color-input">
                                <input type="color" id="fgColor" value="#000000">
                                <span id="fgHex">#000000</span>
                            </div>
                        </div>
                        <div>
                            <label>Background Color</label>
                            <div class="color-input">
                                <input type="color" id="bgColor" value="#ffffff">
                                <span id="bgHex">#ffffff</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="gradientColors" style="display: none;">
                    <div class="row">
                        <div>
                            <label>Gradient Start</label>
                            <div class="color-input">
                                <input type="color" id="gradStart" value="#6366f1">
                                <span id="gradStartHex">#6366f1</span>
                            </div>
                        </div>
                        <div>
                            <label>Gradient End</label>
                            <div class="color-input">
                                <input type="color" id="gradEnd" value="#ec4899">
                                <span id="gradEndHex">#ec4899</span>
                            </div>
                        </div>
                    </div>
                    <label>Background Color</label>
                    <div class="color-input">
                        <input type="color" id="gradBg" value="#ffffff">
                        <span id="gradBgHex">#ffffff</span>
                    </div>
                </div>
                
                <label for="logoUpload">Logo (Center Embedding)</label>
                <input type="file" id="logoUpload" accept="image/*" onchange="handleLogoUpload()">
                
                <button class="btn" onclick="generateQR()">Generate QR Code</button>
            </div>
            
            <div class="card">
                <label>Preview</label>
                <div id="qrPreview">
                    <div style="color: #999; font-size: 0.875rem;">Your QR code will appear here</div>
                </div>
                
                <div class="btn-row-3">
                    <button class="btn btn-secondary" onclick="downloadQR('png')" id="downloadPngBtn" style="display: none;">PNG</button>
                    <button class="btn btn-secondary" onclick="downloadQR('svg')" id="downloadSvgBtn" style="display: none;">SVG</button>
                    <button class="btn btn-secondary" onclick="downloadQR('pdf')" id="downloadPdfBtn" style="display: none;">PDF</button>
                </div>
                
                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="shareQR()" id="shareBtn" style="display: none; margin-top: 0.5rem;">Share</button>
                    <button class="btn btn-secondary" onclick="togglePrintMode()" style="margin-top: 0.5rem;">Print Mode</button>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <div class="stat-value" id="totalGenerated">0</div>
                        <div class="stat-label">Generated</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="totalDownloads">0</div>
                        <div class="stat-label">Downloads</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="totalScans">0</div>
                        <div class="stat-label">Scans</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- DYNAMIC QR TAB -->
        <div id="dynamic-tab" class="tab-content">
            <div class="card">
                <label>Dynamic QR Codes</label>
                <p style="color: var(--dim); font-size: 0.75rem; margin-bottom: 1rem;">Create QR codes that can be edited after generation. Change the destination URL without reprinting.</p>
                
                <label for="dynamicName">QR Code Name</label>
                <input type="text" id="dynamicName" placeholder="e.g., Product Launch Campaign">
                
                <label for="dynamicUrl">Destination URL</label>
                <input type="url" id="dynamicUrl" placeholder="https://example.com">
                
                <button class="btn" onclick="createDynamicQR()">Create Dynamic QR</button>
                
                <div class="dynamic-qr-list" id="dynamicList"></div>
            </div>
        </div>
        
        <!-- BATCH TAB -->
        <div id="batch-tab" class="tab-content">
            <div class="card">
                <label>Batch QR Generation</label>
                <div class="batch-input" id="batchInputs">
                    <div class="batch-item">
                        <input type="text" placeholder="Enter text or URL" class="batch-field">
                        <button class="remove-btn" onclick="removeBatchItem(this)">Ã—</button>
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="addBatchItem()">+ Add Item</button>
                <button class="btn" onclick="generateBatchQR()" style="margin-top: 0.5rem;">Generate All</button>
                
                <div id="batchPreview" class="batch-preview" style="display: none;"></div>
                
                <button class="btn btn-accent" onclick="downloadBatchZIP()" id="downloadBatchBtn" style="display: none; margin-top: 1rem;">Download All as ZIP</button>
            </div>
        </div>
        
        <!-- SCAN TAB -->
        <div id="scan-tab" class="tab-content">
            <div class="card">
                <label>QR Code Scanner</label>
                <div class="scanner-container" id="scannerContainer" style="display: none;">
                    <video id="scanner-video" autoplay playsinline></video>
                    <div class="scanner-overlay">
                        <div class="scanner-corner tl"></div>
                        <div class="scanner-corner tr"></div>
                        <div class="scanner-corner bl"></div>
                        <div class="scanner-corner br"></div>
                    </div>
                </div>
                
                <button class="btn" onclick="startScanner()" id="startScanBtn">Start Camera</button>
                <button class="btn btn-secondary" onclick="stopScanner()" id="stopScanBtn" style="display: none; margin-top: 0.5rem;">Stop Camera</button>
                
                <div id="scanResults"></div>
            </div>
        </div>
        
        <!-- ANALYTICS TAB -->
        <div id="analytics-tab" class="tab-content">
            <div class="card">
                <label>QR Code Analytics</label>
                
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-value" id="totalScansAnalytics">0</div>
                        <div class="analytics-label">Total Scans</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-value" id="uniqueScansAnalytics">0</div>
                        <div class="analytics-label">Unique Users</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-value" id="topLocationAnalytics">-</div>
                        <div class="analytics-label">Top Location</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-value" id="avgScanTimeAnalytics">-</div>
                        <div class="analytics-label">Avg Scan Time</div>
                    </div>
                </div>
                
                <label style="margin-top: 1.5rem;">Last 7 Days Activity</label>
                <div class="analytics-chart" id="analyticsChart"></div>
                
                <label style="margin-top: 1.5rem;">Top Performing QR Codes</label>
                <div id="topQRCodes"></div>
            </div>
        </div>
        
        <!-- TEAM TAB -->
        <div id="team-tab" class="tab-content">
            <div class="card">
                <label>Team Collaboration</label>
                
                <div class="sync-status">
                    <div class="sync-indicator"></div>
                    <div class="sync-text">Synced across all devices</div>
                </div>
                
                <label for="inviteEmail">Invite Team Member</label>
                <div class="row">
                    <input type="email" id="inviteEmail" placeholder="email@example.com">
                    <select id="inviteRole">
                        <option value="viewer">Viewer</option>
                        <option value="editor">Editor</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <button class="btn" onclick="inviteTeamMember()">Send Invite</button>
                
                <label style="margin-top: 1.5rem;">Team Members</label>
                <div class="team-list" id="teamList"></div>
            </div>
        </div>
        
        <!-- TEMPLATES TAB -->
        <div id="templates-tab" class="tab-content">
            <div class="card">
                <label>Quick Templates</label>
                
                <div class="examples">
                    <div class="example-title">Social Media</div>
                    <div class="example-item" onclick="showTemplateModal('instagram')">
                        <div class="example-label">Instagram Profile</div>
                        <div class="example-text">instagram.com/username</div>
                    </div>
                    <div class="example-item" onclick="showTemplateModal('twitter')">
                        <div class="example-label">Twitter/X Profile</div>
                        <div class="example-text">twitter.com/username</div>
                    </div>
                    <div class="example-item" onclick="showTemplateModal('linkedin')">
                        <div class="example-label">LinkedIn Profile</div>
                        <div class="example-text">linkedin.com/in/username</div>
                    </div>
                </div>
                
                <div class="examples">
                    <div class="example-title">Calendar Event</div>
                    <div class="example-item" onclick="showTemplateModal('calendar')">
                        <div class="example-label">Create Event</div>
                        <div class="example-text">.ics format calendar event</div>
                    </div>
                </div>
                
                <div class="examples">
                    <div class="example-title">Standard Examples</div>
                    <div class="example-item" onclick="loadTemplate('https://example.com')">
                        <div class="example-label">Website URL</div>
                        <div class="example-text">https://example.com</div>
                    </div>
                    <div class="example-item" onclick="loadTemplate('WIFI:T:WPA;S:MyNetwork;P:password123;;')">
                        <div class="example-label">WiFi Access</div>
                        <div class="example-text">WIFI:T:WPA;S:MyNetwork;P:password123;;</div>
                    </div>
                    <div class="example-item" onclick="loadTemplate('BEGIN:VCARD\nVERSION:3.0\nFN:John Doe\nTEL:+1234567890\nEMAIL:john@example.com\nEND:VCARD')">
                        <div class="example-label">Contact Card (vCard)</div>
                        <div class="example-text">Digital business card</div>
                    </div>
                    <div class="example-item" onclick="loadTemplate('mailto:hello@example.com?subject=Hello')">
                        <div class="example-label">Email Link</div>
                        <div class="example-text">mailto:hello@example.com</div>
                    </div>
                    <div class="example-item" onclick="loadTemplate('tel:+1234567890')">
                        <div class="example-label">Phone Number</div>
                        <div class="example-text">tel:+1234567890</div>
                    </div>
                    <div class="example-item" onclick="loadTemplate('geo:40.7128,-74.0060')">
                        <div class="example-label">GPS Location</div>
                        <div class="example-text">geo:40.7128,-74.0060</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- API TAB -->
        <div id="api-tab" class="tab-content">
            <div class="card">
                <label>API Integration</label>
                <p style="color: var(--dim); font-size: 0.75rem; margin-bottom: 1rem;">Automate QR code generation with our REST API</p>
                
                <label>API Endpoint</label>
                <div class="api-endpoint">POST https://api.qr2026.com/v1/generate</div>
                
                <label>Your API Keys</label>
                <div class="api-key">
                    <div class="api-key-value" id="apiKeyValue">sk_live_xxxxxxxxxxxxxxxx</div>
                    <button class="copy-btn" onclick="copyAPIKey()">Copy</button>
                </div>
                
                <button class="btn btn-secondary" onclick="generateNewAPIKey()">Generate New Key</button>
                
                <label style="margin-top: 1.5rem;">Example Request</label>
                <div class="api-endpoint">
{
  "text": "https://example.com",
  "size": 256,
  "format": "png",
  "fgColor": "#000000",
  "bgColor": "#ffffff"
}
                </div>
                
                <label>Documentation</label>
                <button class="btn" onclick="window.open('https://docs.qr2026.com', '_blank')">View API Docs</button>
            </div>
        </div>
    </div>
    
    <!-- SETTINGS MODAL -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeSettings()">&times;</button>
            <div class="modal-title">Settings</div>
            
            <label>Accessibility</label>
            <div class="gradient-toggle">
                <input type="checkbox" id="highContrast" onchange="toggleHighContrast()">
                <label for="highContrast" style="margin: 0;">High Contrast Mode</label>
            </div>
            
            <label>Branding</label>
            <div class="gradient-toggle">
                <input type="checkbox" id="enableBranding" onchange="toggleBranding()">
                <label for="enableBranding" style="margin: 0;">Show Brand Watermark</label>
            </div>
            
            <label for="brandText">Brand Text</label>
            <input type="text" id="brandText" placeholder="Your Company Name" value="QR 2026">
            
            <label>Cloud Sync</label>
            <div class="gradient-toggle">
                <input type="checkbox" id="cloudSync" checked onchange="toggleCloudSync()">
                <label for="cloudSync" style="margin: 0;">Auto-sync across devices</label>
            </div>
            
            <button class="btn" onclick="closeSettings()">Save Settings</button>
        </div>
    </div>
    
    <!-- TEMPLATE MODAL -->
    <div id="templateModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <div class="modal-title" id="modalTitle">Template</div>
            <div id="modalForm"></div>
        </div>
    </div>
    
    <!-- SHARE MODAL -->
    <div id="shareModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeShareModal()">&times;</button>
            <div class="modal-title">Share QR Code</div>
            
            <div class="share-options">
                <div class="share-btn" onclick="shareVia('email')">
                    <div class="share-icon">ðŸ“§</div>
                    <div class="share-label">Email</div>
                </div>
                <div class="share-btn" onclick="shareVia('sms')">
                    <div class="share-icon">ðŸ’¬</div>
                    <div class="share-label">SMS</div>
                </div>
                <div class="share-btn" onclick="shareVia('whatsapp')">
                    <div class="share-icon">ðŸ“±</div>
                    <div class="share-label">WhatsApp</div>
                </div>
                <div class="share-btn" onclick="shareVia('twitter')">
                    <div class="share-icon">ðŸ¦</div>
                    <div class="share-label">Twitter</div>
                </div>
                <div class="share-btn" onclick="shareVia('facebook')">
                    <div class="share-icon">ðŸ“˜</div>
                    <div class="share-label">Facebook</div>
                </div>
                <div class="share-btn" onclick="shareVia('linkedin')">
                    <div class="share-icon">ðŸ’¼</div>
                    <div class="share-label">LinkedIn</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="toast" id="toast"></div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/@zxing/library@latest"></script>
    
    <script>
        // Global state
        let qrcode = null;
        let history = JSON.parse(localStorage.getItem('qrHistory')) || [];
        let stats = JSON.parse(localStorage.getItem('qrStats')) || {
            totalGenerated: 0,
            totalDownloads: 0,
            totalScans: 0
        };
        let currentStyle = 'square';
        let currentFrame = 'none';
        let logoImage = null;
        let batchQRCodes = [];
        let scannerStream = null;
        let codeReader = null;
        let dynamicQRs = JSON.parse(localStorage.getItem('dynamicQRs')) || [];
        let teamMembers = JSON.parse(localStorage.getItem('teamMembers')) || [
            { name: 'You', email: 'you@example.com', role: 'Owner' }
        ];
        let analyticsData = JSON.parse(localStorage.getItem('analyticsData')) || {
            scans: [5, 12, 8, 15, 20, 18, 25],
            totalScans: 103,
            uniqueScans: 67,
            topLocation: 'US',
            avgScanTime: '2.3s'
        };
        let settings = JSON.parse(localStorage.getItem('settings')) || {
            highContrast: false,
            branding: false,
            brandText: 'QR 2026',
            cloudSync: true
        };
        
        // Initialize
        updateStats();
        renderDynamicQRs();
        renderTeamMembers();
        renderAnalytics();
        applySettings();
        
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
        }
        
        // Update stats
        function updateStats() {
            document.getElementById('totalGenerated').textContent = stats.totalGenerated;
            document.getElementById('totalDownloads').textContent = stats.totalDownloads;
            document.getElementById('totalScans').textContent = stats.totalScans;
        }
        
        // Language
        function updateLangLabel() {
            const lang = document.getElementById('inputLang').value;
            const labels = {
                en: 'English', es: 'EspaÃ±ol', fr: 'FranÃ§ais',
                de: 'Deutsch', zh: 'ä¸­æ–‡', ja: 'æ—¥æœ¬èªž', ar: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'
            };
            document.getElementById('langLabel').textContent = labels[lang];
        }
        
        // Color pickers
        ['fgColor', 'bgColor', 'gradStart', 'gradEnd', 'gradBg'].forEach(id => {
            const input = document.getElementById(id);
            if (input) {
                input.addEventListener('input', (e) => {
                    document.getElementById(id + 'Hex').textContent = e.target.value.toUpperCase();
                });
            }
        });
        
        // Style selection
        function selectStyle(style) {
            currentStyle = style;
            document.querySelectorAll('.style-option').forEach(opt => opt.classList.remove('active'));
            document.querySelector(`[data-style="${style}"]`).classList.add('active');
        }
        
        // Frame selection
        function selectFrame(frame) {
            currentFrame = frame;
            document.querySelectorAll('.frame-option').forEach(opt => opt.classList.remove('active'));
            document.querySelector(`[data-frame="${frame}"]`).classList.add('active');
        }
        
        // Gradient toggle
        function toggleGradient() {
            const useGrad = document.getElementById('useGradient').checked;
            document.getElementById('solidColors').style.display = useGrad ? 'none' : 'block';
            document.getElementById('gradientColors').style.display = useGrad ? 'block' : 'none';
        }
        
        // Color presets
        function applyPreset(fg, bg) {
            document.getElementById('fgColor').value = fg;
            document.getElementById('bgColor').value = bg;
            document.getElementById('fgHex').textContent = fg.toUpperCase();
            document.getElementById('bgHex').textContent = bg.toUpperCase();
            document.getElementById('useGradient').checked = false;
            toggleGradient();
        }
        
        // Logo upload
        function handleLogoUpload() {
            const file = document.getElementById('logoUpload').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    logoImage = e.target.result;
                    showToast('Logo uploaded');
                };
                reader.readAsDataURL(file);
            }
        }
        
        // Generate QR
        function generateQR() {
            const input = document.getElementById('qrInput').value;
            if (!input) {
                showToast('Please enter text or URL');
                return;
            }
            
            const size = parseInt(document.getElementById('qrSize').value);
            const useGrad = document.getElementById('useGradient').checked;
            const errorLevel = document.getElementById('errorLevel').value;
            
            let fgColor, bgColor;
            if (useGrad) {
                fgColor = '#000000';
                bgColor = '#ffffff';
            } else {
                fgColor = document.getElementById('fgColor').value;
                bgColor = document.getElementById('bgColor').value;
            }
            
            const preview = document.getElementById('qrPreview');
            preview.innerHTML = '';
            
            const wrapper = document.createElement('div');
            wrapper.className = 'qr-wrapper';
            preview.appendChild(wrapper);
            
            qrcode = new QRCode(wrapper, {
                text: input,
                width: size,
                height: size,
                colorDark: fgColor,
                colorLight: bgColor,
                correctLevel: QRCode.CorrectLevel[errorLevel]
            });
            
            setTimeout(() => {
                applyStyle(wrapper);
                if (useGrad) applyGradient(wrapper);
                if (logoImage) embedLogo(wrapper, size);
                if (currentFrame !== 'none') applyFrame(wrapper);
                if (settings.branding) addBranding(wrapper);
            }, 100);
            
            document.getElementById('downloadPngBtn').style.display = 'block';
            document.getElementById('downloadSvgBtn').style.display = 'block';
            document.getElementById('downloadPdfBtn').style.display = 'block';
            document.getElementById('shareBtn').style.display = 'block';
            
            stats.totalGenerated++;
            localStorage.setItem('qrStats', JSON.stringify(stats));
            updateStats();
            
            if (settings.cloudSync) {
                simulateCloudSync();
            }
            
            showToast('QR Code generated!');
        }
        
        // Apply style
        function applyStyle(wrapper) {
            const canvas = wrapper.querySelector('canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            if (currentStyle === 'rounded' || currentStyle === 'dots') {
                ctx.imageSmoothingEnabled = true;
            }
        }
        
        // Apply gradient
        function applyGradient(wrapper) {
            const canvas = wrapper.querySelector('canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            
            const start = document.getElementById('gradStart').value;
            const end = document.getElementById('gradEnd').value;
            
            gradient.addColorStop(0, start);
            gradient.addColorStop(1, end);
            
            ctx.globalCompositeOperation = 'source-in';
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
        
        // Embed logo
        function embedLogo(wrapper, qrSize) {
            const canvas = wrapper.querySelector('canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const logo = new Image();
            logo.onload = () => {
                const logoSize = qrSize * 0.2;
                const x = (canvas.width - logoSize) / 2;
                const y = (canvas.height - logoSize) / 2;
                
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(x - 5, y - 5, logoSize + 10, logoSize + 10);
                
                ctx.drawImage(logo, x, y, logoSize, logoSize);
            };
            logo.src = logoImage;
        }
        
        // Apply frame
        function applyFrame(wrapper) {
            const frameDiv = document.createElement('div');
            frameDiv.className = 'qr-frame';
            
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', '100%');
            svg.setAttribute('height', '100%');
            
            if (currentFrame === 'classic') {
                svg.innerHTML = `<rect x="0" y="0" width="100%" height="100%" fill="none" stroke="#000" stroke-width="4"/>`;
            } else if (currentFrame === 'rounded') {
                svg.innerHTML = `<rect x="0" y="0" width="100%" height="100%" rx="20" fill="none" stroke="#000" stroke-width="4"/>`;
            } else if (currentFrame === 'modern') {
                svg.innerHTML = `
                    <line x1="0" y1="0" x2="30" y2="0" stroke="#000" stroke-width="4"/>
                    <line x1="0" y1="0" x2="0" y2="30" stroke="#000" stroke-width="4"/>
                    <line x1="100%" y1="0" x2="calc(100% - 30px)" y2="0" stroke="#000" stroke-width="4"/>
                    <line x1="100%" y1="0" x2="100%" y2="30" stroke="#000" stroke-width="4"/>
                    <line x1="0" y1="100%" x2="30" y2="100%" stroke="#000" stroke-width="4"/>
                    <line x1="0" y1="100%" x2="0" y2="calc(100% - 30px)" stroke="#000" stroke-width="4"/>
                    <line x1="100%" y1="100%" x2="calc(100% - 30px)" y2="100%" stroke="#000" stroke-width="4"/>
                    <line x1="100%" y1="100%" x2="100%" y2="calc(100% - 30px)" stroke="#000" stroke-width="4"/>
                `;
            }
            
            frameDiv.appendChild(svg);
            wrapper.appendChild(frameDiv);
        }
        
        // Add branding
        function addBranding(wrapper) {
            const brand = document.createElement('div');
            brand.className = 'branding-overlay';
            brand.textContent = settings.brandText;
            wrapper.appendChild(brand);
        }
        
        // Download QR
        function downloadQR(format) {
            const canvas = document.querySelector('#qrPreview canvas');
            if (!canvas) {
                showToast('Please generate a QR code first');
                return;
            }
            
            if (format === 'png') {
                const url = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.download = `qrcode-${Date.now()}.png`;
                link.href = url;
                link.click();
            } else if (format === 'svg') {
                const svgData = canvasToSVG(canvas);
                const blob = new Blob([svgData], { type: 'image/svg+xml' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = `qrcode-${Date.now()}.svg`;
                link.href = url;
                link.click();
            } else if (format === 'pdf') {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF();
                const imgData = canvas.toDataURL('image/png');
                pdf.addImage(imgData, 'PNG', 10, 10, 100, 100);
                pdf.save(`qrcode-${Date.now()}.pdf`);
            }
            
            stats.totalDownloads++;
            localStorage.setItem('qrStats', JSON.stringify(stats));
            updateStats();
            showToast(`Downloaded as ${format.toUpperCase()}`);
        }
        
        // Canvas to SVG
        function canvasToSVG(canvas) {
            const ctx = canvas.getContext('2d');
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            
            let svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${canvas.width}" height="${canvas.height}">`;
            svg += `<rect width="100%" height="100%" fill="white"/>`;
            
            for (let y = 0; y < canvas.height; y++) {
                for (let x = 0; x < canvas.width; x++) {
                    const i = (y * canvas.width + x) * 4;
                    if (data[i] < 128) {
                        svg += `<rect x="${x}" y="${y}" width="1" height="1" fill="black"/>`;
                    }
                }
            }
            
            svg += '</svg>';
            return svg;
        }
        
        // Share QR
        function shareQR() {
            document.getElementById('shareModal').classList.add('show');
        }
        
        function closeShareModal() {
            document.getElementById('shareModal').classList.remove('show');
        }
        
        function shareVia(platform) {
            const canvas = document.querySelector('#qrPreview canvas');
            if (!canvas) return;
            
            const url = canvas.toDataURL('image/png');
            const text = 'Check out my QR code!';
            
            let shareUrl = '';
            
            switch(platform) {
                case 'email':
                    shareUrl = `mailto:?subject=QR Code&body=${text}`;
                    break;
                case 'sms':
                    shareUrl = `sms:?body=${text}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
                    break;
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
                    break;
            }
            
            window.open(shareUrl, '_blank');
            closeShareModal();
            showToast(`Shared via ${platform}`);
        }
        
        // Print mode
        function togglePrintMode() {
            document.body.classList.toggle('print-mode');
            if (document.body.classList.contains('print-mode')) {
                showToast('Print mode enabled');
                setTimeout(() => window.print(), 500);
            } else {
                showToast('Print mode disabled');
            }
        }
        
        // Dynamic QR
        function createDynamicQR() {
            const name = document.getElementById('dynamicName').value;
            const url = document.getElementById('dynamicUrl').value;
            
            if (!name || !url) {
                showToast('Please fill all fields');
                return;
            }
            
            const dynamicQR = {
                id: Date.now(),
                name,
                url,
                scans: 0,
                created: new Date().toISOString()
            };
            
            dynamicQRs.unshift(dynamicQR);
            localStorage.setItem('dynamicQRs', JSON.stringify(dynamicQRs));
            
            document.getElementById('dynamicName').value = '';
            document.getElementById('dynamicUrl').value = '';
            
            renderDynamicQRs();
            showToast('Dynamic QR created!');
        }
        
        function renderDynamicQRs() {
            const list = document.getElementById('dynamicList');
            
            if (dynamicQRs.length === 0) {
                list.innerHTML = '<div style="color: var(--dim); font-size: 0.75rem; text-align: center; padding: 1rem;">No dynamic QR codes yet</div>';
                return;
            }
            
            list.innerHTML = dynamicQRs.map((qr, index) => `
                <div class="dynamic-item">
                    <div class="dynamic-header">
                        <div class="dynamic-title">${qr.name}</div>
                        <div class="dynamic-stats">${qr.scans} scans</div>
                    </div>
                    <div class="dynamic-content">${qr.url}</div>
                    <div class="dynamic-actions">
                        <button class="btn btn-secondary" onclick="editDynamicQR(${index})">Edit</button>
                        <button class="btn btn-secondary" onclick="viewDynamicAnalytics(${index})">Analytics</button>
                        <button class="btn btn-accent" onclick="deleteDynamicQR(${index})">Delete</button>
                    </div>
                </div>
            `).join('');
        }
        
        function editDynamicQR(index) {
            const qr = dynamicQRs[index];
            const newUrl = prompt('Enter new destination URL:', qr.url);
            
            if (newUrl) {
                dynamicQRs[index].url = newUrl;
                localStorage.setItem('dynamicQRs', JSON.stringify(dynamicQRs));
                renderDynamicQRs();
                showToast('Dynamic QR updated!');
            }
        }
        
        function viewDynamicAnalytics(index) {
            const qr = dynamicQRs[index];
            alert(`Analytics for ${qr.name}\n\nScans: ${qr.scans}\nCreated: ${new Date(qr.created).toLocaleDateString()}`);
        }
        
        function deleteDynamicQR(index) {
            if (confirm('Delete this dynamic QR code?')) {
                dynamicQRs.splice(index, 1);
                localStorage.setItem('dynamicQRs', JSON.stringify(dynamicQRs));
                renderDynamicQRs();
                showToast('Dynamic QR deleted');
            }
        }
        
        // Batch generation
        function addBatchItem() {
            const container = document.getElementById('batchInputs');
            const item = document.createElement('div');
            item.className = 'batch-item';
            item.innerHTML = `
                <input type="text" placeholder="Enter text or URL" class="batch-field">
                <button class="remove-btn" onclick="removeBatchItem(this)">Ã—</button>
            `;
            container.appendChild(item);
        }
        
        function removeBatchItem(btn) {
            btn.parentElement.remove();
        }
        
        function generateBatchQR() {
            const inputs = document.querySelectorAll('.batch-field');
            const values = Array.from(inputs).map(i => i.value).filter(v => v);
            
            if (values.length === 0) {
                showToast('Please enter at least one item');
                return;
            }
            
            const preview = document.getElementById('batchPreview');
            preview.innerHTML = '';
            preview.style.display = 'grid';
            batchQRCodes = [];
            
            values.forEach((value, index) => {
                const container = document.createElement('div');
                container.className = 'batch-qr';
                
                const qr = new QRCode(container, {
                    text: value,
                    width: 128,
                    height: 128,
                    colorDark: '#000000',
                    colorLight: '#ffffff'
                });
                
                const label = document.createElement('div');
                label.className = 'batch-qr-label';
                label.textContent = value;
                container.appendChild(label);
                
                preview.appendChild(container);
                batchQRCodes.push({ value, element: container });
            });
            
            document.getElementById('downloadBatchBtn').style.display = 'block';
            showToast(`Generated ${values.length} QR codes`);
        }
        
        function downloadBatchZIP() {
            if (batchQRCodes.length === 0) {
                showToast('Generate batch QR codes first');
                return;
            }
            
            const zip = new JSZip();
            
            batchQRCodes.forEach((item, index) => {
                const canvas = item.element.querySelector('canvas');
                const dataUrl = canvas.toDataURL('image/png');
                const data = dataUrl.split(',')[1];
                zip.file(`qr-${index + 1}.png`, data, { base64: true });
            });
            
            zip.generateAsync({ type: 'blob' }).then(blob => {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = `qr-batch-${Date.now()}.zip`;
                link.href = url;
                link.click();
                showToast('Batch downloaded as ZIP');
            });
        }
        
        // Scanner
        async function startScanner() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'environment' } 
                });
                
                const video = document.getElementById('scanner-video');
                video.srcObject = stream;
                scannerStream = stream;
                
                document.getElementById('scannerContainer').style.display = 'block';
                document.getElementById('startScanBtn').style.display = 'none';
                document.getElementById('stopScanBtn').style.display = 'block';
                
                codeReader = new ZXing.BrowserQRCodeReader();
                
                const scanLoop = () => {
                    if (!scannerStream) return;
                    
                    codeReader.decodeFromVideoElement(video, (result, err) => {
                        if (result) {
                            displayScanResult(result.text);
                            stats.totalScans++;
                            localStorage.setItem('qrStats', JSON.stringify(stats));
                            updateStats();
                        }
                        if (scannerStream) {
                            requestAnimationFrame(scanLoop);
                        }
                    });
                };
                
                scanLoop();
                showToast('Scanner started');
            } catch (err) {
                showToast('Camera access denied');
                console.error(err);
            }
        }
        
        function stopScanner() {
            if (scannerStream) {
                scannerStream.getTracks().forEach(track => track.stop());
                scannerStream = null;
            }
            
            document.getElementById('scannerContainer').style.display = 'none';
            document.getElementById('startScanBtn').style.display = 'block';
            document.getElementById('stopScanBtn').style.display = 'none';
            showToast('Scanner stopped');
        }
        
        function displayScanResult(text) {
            const results = document.getElementById('scanResults');
            const result = document.createElement('div');
            result.className = 'scan-result';
            result.innerHTML = `
                <div class="scan-result-label">Scanned QR Code</div>
                <div class="scan-result-text">${text}</div>
            `;
            results.insertBefore(result, results.firstChild);
            
            if (navigator.vibrate) {
                navigator.vibrate(200);
            }
        }
        
        // Analytics
        function renderAnalytics() {
            document.getElementById('totalScansAnalytics').textContent = analyticsData.totalScans;
            document.getElementById('uniqueScansAnalytics').textContent = analyticsData.uniqueScans;
            document.getElementById('topLocationAnalytics').textContent = analyticsData.topLocation;
            document.getElementById('avgScanTimeAnalytics').textContent = analyticsData.avgScanTime;
            
            const chart = document.getElementById('analyticsChart');
            const maxValue = Math.max(...analyticsData.scans);
            
            chart.innerHTML = analyticsData.scans.map(value => {
                const height = (value / maxValue) * 100;
                return `<div class="chart-bar" style="height: ${height}%" title="${value} scans"></div>`;
            }).join('');
            
            const topQRs = document.getElementById('topQRCodes');
            topQRs.innerHTML = `
                <div class="dynamic-item">
                    <div class="dynamic-header">
                        <div class="dynamic-title">Product Launch</div>
                        <div class="dynamic-stats">45 scans</div>
                    </div>
                </div>
                <div class="dynamic-item">
                    <div class="dynamic-header">
                        <div class="dynamic-title">Event Registration</div>
                        <div class="dynamic-stats">32 scans</div>
                    </div>
                </div>
            `;
        }
        
        // Team
        function inviteTeamMember() {
            const email = document.getElementById('inviteEmail').value;
            const role = document.getElementById('inviteRole').value;
            
            if (!email) {
                showToast('Please enter an email');
                return;
            }
            
            const member = {
                name: email.split('@')[0],
                email,
                role
            };
            
            teamMembers.push(member);
            localStorage.setItem('teamMembers', JSON.stringify(teamMembers));
            
            document.getElementById('inviteEmail').value = '';
            
            renderTeamMembers();
            showToast('Invite sent!');
        }
        
        function renderTeamMembers() {
            const list = document.getElementById('teamList');
            
            list.innerHTML = teamMembers.map((member, index) => `
                <div class="team-member">
                    <div class="team-info">
                        <div class="team-name">${member.name}</div>
                        <div class="team-email">${member.email}</div>
                    </div>
                    <div class="team-role">${member.role}</div>
                </div>
            `).join('');
        }
        
        // Templates
        function showTemplateModal(type) {
            const modal = document.getElementById('templateModal');
            const form = document.getElementById('modalForm');
            const title = document.getElementById('modalTitle');
            
            if (type === 'instagram') {
                title.textContent = 'Instagram Profile';
                form.innerHTML = `
                    <label>Username</label>
                    <input type="text" id="templateInput" placeholder="username">
                    <button class="btn" onclick="applyTemplate('https://instagram.com/' + document.getElementById('templateInput').value)">Apply</button>
                `;
            } else if (type === 'twitter') {
                title.textContent = 'Twitter/X Profile';
                form.innerHTML = `
                    <label>Username</label>
                    <input type="text" id="templateInput" placeholder="username">
                    <button class="btn" onclick="applyTemplate('https://twitter.com/' + document.getElementById('templateInput').value)">Apply</button>
                `;
            } else if (type === 'linkedin') {
                title.textContent = 'LinkedIn Profile';
                form.innerHTML = `
                    <label>Username</label>
                    <input type="text" id="templateInput" placeholder="username">
                    <button class="btn" onclick="applyTemplate('https://linkedin.com/in/' + document.getElementById('templateInput').value)">Apply</button>
                `;
            } else if (type === 'calendar') {
                title.textContent = 'Calendar Event';
                form.innerHTML = `
                    <label>Event Title</label>
                    <input type="text" id="eventTitle" placeholder="Meeting">
                    <label>Date</label>
                    <input type="date" id="eventDate">
                    <label>Time</label>
                    <input type="time" id="eventTime">
                    <label>Duration (minutes)</label>
                    <input type="number" id="eventDuration" value="60">
                    <button class="btn" onclick="createCalendarEvent()">Create Event</button>
                `;
            }
            
            modal.classList.add('show');
        }
        
        function closeModal() {
            document.getElementById('templateModal').classList.remove('show');
        }
        
        function applyTemplate(url) {
            switchTab('generate');
            document.querySelector('[onclick="switchTab(\'generate\')"]').click();
            document.getElementById('qrInput').value = url;
            closeModal();
            showToast('Template applied');
        }
        
        function createCalendarEvent() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const duration = parseInt(document.getElementById('eventDuration').value);
            
            if (!title || !date || !time) {
                showToast('Please fill all fields');
                return;
            }
            
            const start = new Date(date + 'T' + time);
            const end = new Date(start.getTime() + duration * 60000);
            
            const formatDate = (d) => {
                return d.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
            };
            
            const ics = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART:${formatDate(start)}
DTEND:${formatDate(end)}
SUMMARY:${title}
END:VEVENT
END:VCALENDAR`;
            
            applyTemplate(ics);
        }
        
        function loadTemplate(text) {
            switchTab('generate');
            document.querySelector('[onclick="switchTab(\'generate\')"]').click();
            document.getElementById('qrInput').value = text;
            showToast('Template loaded');
        }
        
        // API
        function generateNewAPIKey() {
            const key = 'sk_live_' + Math.random().toString(36).substr(2, 16);
            document.getElementById('apiKeyValue').textContent = key;
            showToast('New API key generated');
        }
        
        function copyAPIKey() {
            const key = document.getElementById('apiKeyValue').textContent;
            navigator.clipboard.writeText(key);
            showToast('API key copied');
        }
        
        // Settings
        function openSettings() {
            document.getElementById('settingsModal').classList.add('show');
        }
        
        function closeSettings() {
            settings.highContrast = document.getElementById('highContrast').checked;
            settings.branding = document.getElementById('enableBranding').checked;
            settings.brandText = document.getElementById('brandText').value;
            settings.cloudSync = document.getElementById('cloudSync').checked;
            
            localStorage.setItem('settings', JSON.stringify(settings));
            applySettings();
            
            document.getElementById('settingsModal').classList.remove('show');
            showToast('Settings saved');
        }
        
        function applySettings() {
            document.getElementById('highContrast').checked = settings.highContrast;
            document.getElementById('enableBranding').checked = settings.branding;
            document.getElementById('brandText').value = settings.brandText;
            document.getElementById('cloudSync').checked = settings.cloudSync;
            
            if (settings.highContrast) {
                document.body.classList.add('high-contrast');
            } else {
                document.body.classList.remove('high-contrast');
            }
        }
        
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }
        
        function toggleBranding() {
            settings.branding = document.getElementById('enableBranding').checked;
        }
        
        function toggleCloudSync() {
            settings.cloudSync = document.getElementById('cloudSync').checked;
            if (settings.cloudSync) {
                simulateCloudSync();
            }
        }
        
        function simulateCloudSync() {
            showToast('Syncing to cloud...');
            setTimeout(() => {
                showToast('Synced!');
            }, 1000);
        }
        
        // Toast
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
    </script>
</body>
</html>